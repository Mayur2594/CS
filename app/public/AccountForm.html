<script>
function readURL(input) {
        if (input.files && input.files[0]) {
		angular.element(document.getElementById('memberform')).scope().PassFileValue(input.files);
        }
    }
</script>
<div class="container" id="memberform" ng-controller="MembersController" >
<form name="memdetails" ng-init="GetMembersDetails()">
	<div class="col-md-12 col-xs-12"><legend>Basic Details<h4 class="pull-right text-danger">{{errormsg}}</h4></span></legend></div>
	<div class="col-md-1 col-xs-12 pull-left">
		<div class="row">
				 <img id="imgpanel" src="uploads/{{membersDetails[0].documentsdetails.pic}}"  height="200" width="150" />
				<!-- <button class="imgbtn" ng-click="clear()">Clear</button> -->
		</div>
	</div>
	<div class="col-md-11 col-xs-12">
	<div class="col-md-3 col-xs-12">
		<div class="form-group">
			<label for="firstname">First Name:</label>
			<input type="text" class="form-control" id="firstname" placeholder="First Name" ng-model="membersDetails[0].firstname" required >
		</div>
	</div>
	<div class="col-md-3 col-xs-12">
		<div class="form-group">
			<label for="midname">Middle Name:</label>
			<input type="text" class="form-control" id="midname" placeholder="Middle Name" ng-model="membersDetails[0].midname" required>
		</div>
	</div>
	
	<div class="col-md-3 col-xs-12">
		<div class="form-group">
			<label for="lastname">Last Name:</label>
			<input type="text" class="form-control" id="lastname" placeholder="Last Name" ng-model="membersDetails[0].lastname" required>
		</div>
	</div>
	
	<div class="col-md-3 col-xs-12">
		<div class="form-group">
			<label for="gender">Gender:</label>
			<select class="form-control" id="gender" ng-model="membersDetails[0].gander" ng-options="obj for obj in ['Male','Female','Other']" required>
				<option value="" selected disabled >Gender</option>
			</select>
		</div>
	</div>
	<div class="col-md-3 col-xs-12">
		<div class="form-group">
			<label for="dob">DOB:</label>
			<input type="date" class="form-control" id="dob"  ng-model="membersDetails[0].dob" required>
		</div>
	</div>
	<div class="col-md-3 col-xs-12">
		<div class="form-group">
			<label for="mobile1">Mobile No.:</label>
			<input type="text" class="form-control" id="mobile1" placeholder="Mobile No."  ng-model="membersDetails[0].contactdetails.mobile1" ng-blur="VerifyrequiredFieldsInMembers(membersDetails[0].contactdetails.mobile1,'Mobile')" required>
		</div>
	</div>
	
	<div class="col-md-3 col-xs-12">
		<div class="form-group">
			<label for="mobile2">Alt. Mobile No.:</label>
			<input type="text" class="form-control" id="mobile2"  placeholder="Alt. Mobile No."  ng-model="membersDetails[0].contactdetails.mobile2" required>
		</div>
	</div>
	
	<div class="col-md-3 col-xs-12">
		<div class="form-group">
			<label for="email">Email:</label>
			<input type="email" class="form-control" id="email"  placeholder="Email" ng-model="membersDetails[0].contactdetails.email" ng-blur="VerifyrequiredFieldsInMembers(membersDetails[0].contactdetails.email,'Email')" required>
		</div>
	</div>
	</div>
	<div class="col-md-12 col-xs-12"><legend>Address Details</legend></div>
	<div class="col-md-4 col-xs-12">
		<div class="form-group">
			<label for="adln1">Line 1:</label>
			<input type="text" class="form-control" id="adln1" placeholder="Line 1" ng-model="membersDetails[0].address.line1" required>
		</div>
	</div>
	<div class="col-md-4 col-xs-12">
		<div class="form-group">
			<label for="adln2">Line 2:</label>
			<input type="text" class="form-control" id="adln2" placeholder="Line 2" ng-model="membersDetails[0].address.line2" required>
		</div>
	</div>
	<div class="col-md-4 col-xs-12">
		<div class="form-group">
			<label for="adln3">Line 3:</label>
			<input type="text" class="form-control" id="adln3" placeholder="Line 3" ng-model="membersDetails[0].address.line3" required>
		</div>
	</div>
	<div class="col-md-3 col-xs-12">
		<div class="form-group">
			<label for="city">City:</label>
			<input type="text" class="form-control" id="city" placeholder="City" ng-model="membersDetails[0].address.city" required>
		</div>
	</div>
	<div class="col-md-3 col-xs-12">
		<div class="form-group">
			<label for="state">State:</label>
			<input type="text" class="form-control" id="state" placeholder="State" ng-model="membersDetails[0].address.state" required>
		</div>
	</div>
	<div class="col-md-3 col-xs-12">
		<div class="form-group">
			<label for="zip">Pincode:</label>
			<input type="text" class="form-control" id="zip" placeholder="Pincode" ng-model="membersDetails[0].address.zip" required>
		</div>
	</div>
	
	<div class="col-md-12 col-xs-12"><legend>Alternate Address Details</legend></div>
	
	<div class="col-md-4 col-xs-12">
		<div class="form-group">
			<label for="adln1">Line 1:</label>
			<input type="text" class="form-control" id="adln1" placeholder="Line 1" ng-model="membersDetails[0].altaddress.line1" required>
		</div>
	</div>
	<div class="col-md-4 col-xs-12">
		<div class="form-group">
			<label for="adln2">Line 2:</label>
			<input type="text" class="form-control" id="adln2" placeholder="Line 2" ng-model="membersDetails[0].altaddress.line2" required>
		</div>
	</div>
	<div class="col-md-4 col-xs-12">
		<div class="form-group">
			<label for="adln3">Line 3:</label>
			<input type="text" class="form-control" id="adln3" placeholder="Line 3" ng-model="membersDetails[0].altaddress.line3" required>
		</div>
	</div>
	<div class="col-md-3 col-xs-12">
		<div class="form-group">
			<label for="city">City:</label>
			<input type="text" class="form-control" id="city" placeholder="City" ng-model="membersDetails[0].altaddress.city" required>
		</div>
	</div>
	<div class="col-md-3 col-xs-12">
		<div class="form-group">
			<label for="state">State:</label>
			<input type="text" class="form-control" id="state" placeholder="State" ng-model="membersDetails[0].altaddress.state" required>
		</div>
	</div>
	<div class="col-md-3 col-xs-12">
		<div class="form-group">
			<label for="zip">Pincode:</label>
			<input type="text" class="form-control" id="zip" placeholder="Pincode" ng-model="membersDetails[0].altaddress.zip" required>
		</div>
	</div>
	
		<div class="col-md-12 col-xs-12"><legend>Document Details<h4 class="pull-right text-danger">{{errormsg}}</h4></span></legend></div>
		
		<div class="col-md-3 col-xs-12">
		<div class="form-group">
			<label for="aadhaar">Aadhaar card No.:</label>
			<input type="text" class="form-control" id="aadhaar" placeholder="Aadhaar card No." ng-model="membersDetails[0].documentsdetails.aadhaar" ng-blur="VerifyrequiredFieldsInMembers(membersDetails[0].documentsdetails.aadhaar,'Aadhaar card No')" required>
		</div>
	</div>
	<div class="col-md-3 col-xs-12">
		<div class="form-group">
			<label for="pan">Pan No.:</label>
			<input type="text" class="form-control" id="pan" placeholder="Pan No." ng-model="membersDetails[0].documentsdetails.pan" ng-blur="VerifyrequiredFieldsInMembers(membersDetails[0].documentsdetails.pan,'Pan No')" required>
		</div>
	</div>
	<!-- <div class="col-md-3 col-xs-12">
		<div class="form-group">
			<label for="photo">Photo:</label>
			<button class="button btn btn-default" id="memberpic" type="file" ngf-select ng-model="file" name="file" ngf-pattern="'image/*'"
					ngf-accept="'image/*'" ngf-max-size="20MB" ngf-min-height="100" 
					ngf-resize="{width: 100, height: 100}" ng-change="PassFileValue()">Choose file</button>
		</div>
	</div> -->

	<div class="col-md-12 col-xs-12"><legend>Account Details</legend></div>
	
	<div class="col-md-3 col-xs-12">
		<div class="form-group">
			<label for="referred">Referred By:</label>
			<input type="text" class="form-control" id="referred" placeholder="Referred By" ng-model="membersDetails[0].refredby" required>
		</div>
	</div>
	<div ng-controller="MastersController" >
	<div class="col-md-3 col-xs-12">
		<div class="form-group" ng-init="ListBranchs()">
			<label for="branch">Branch:</label>
			<input type="text" class="form-control" id="branch" placeholder="Branch" ng-model="membersDetails[0].branch" uib-typeahead="obj as obj.branchname for obj in branchList" typeahead-on-select="ListAreasOnBranch($item._id)" required>
		</div>
	</div>
	<div class="col-md-3 col-xs-12">
		<div class="form-group">
			<label for="area">Area:</label>
			<input type="text" class="form-control" id="area" placeholder="Area" ng-model="membersDetails[0].areaid" uib-typeahead="obj as obj.areaname for obj in ListOfAreas" typeahead-on-select="ListGroupsOnArea($item._id)" required>
		</div>
	</div>
	
	<div class="col-md-3 col-xs-12">
		<div class="form-group">
			<label for="group">Group:</label>
			<input type="text" class="form-control" id="group" placeholder="Group" ng-model="membersDetails[0].group" uib-typeahead="obj as obj.groupname for obj in ListOfGroups" required>
		</div>
	</div>
	</div>
	<div class="col-md-3 col-xs-12">
		<div class="form-group">
			<label for="depositeamt">Deposit Amount:</label>
			<input type="text" class="form-control" id="depositeamt" placeholder="Deposit Amount" ng-model="membersDetails[0].depositeamount" required>
		</div>
	</div>
	
	<div class="col-md-3 col-xs-12">
		<div class="form-group">
			<label for="strtdate">Starting Date:</label>
			<input type="date" class="form-control" id="strtdate"  ng-model="membersDetails[0].startingdate" required>
		</div>
	</div>
	<div class="col-md-12 col-xs-12" ng-controller="OfficeController">
	<div class="col-md-3 col-xs-12" >
		<div class="form-group" ng-init="ListaccountPlans();ListAccounttypes();">
			<label for="strtdate">Account Plan:</label>
			<select class="form-control" ng-model="memberAccounts.planid" ng-options="obj._id as obj.name for obj in ACPlanList" ng-change="getAccountPlansDetails(memberAccounts.planid)">
				<option value="" selected disabled>Select Account Plan</option>
			</select>
		</div>
	</div>
	
	<div class="col-md-3 col-xs-12">
		<div class="form-group">
			<label for="strtdate">Account Type:</label>
			<select class="form-control" ng-model="memberAccounts.accounttypeid" ng-options="obj._id as obj.accounttype for obj in ACTypesList" ng-change="getAccounttypesDetails(memberAccounts.accounttypeid)">
				<option value="" selected disabled>Select Account Type</option>
			</select>
		</div>
	</div>
	
	<div class="col-md-3 col-xs-12">
		<div class="form-group">
			<label for="strtdate">Interest Rate:</label>
			<input type="text" class="form-control" ng-model="memberAccounts.interestrate" placeholder="Interest Rate"/>
		</div>
	</div>
	
	<div class="col-md-3 col-xs-12" ng-if="accountPlans[0].actypeid.installments === 'No'">
		<div class="form-group">
			<label for="strtdate">Invested Amount:</label>
			<input type="text" class="form-control" ng-model="memberAccounts.investedamount" placeholder="Invested Amount"/>
		</div>
	</div>
	
	<div class="col-md-3 col-xs-12" ng-if="accountPlans[0].actypeid.installments === 'Yes'">
		<div class="form-group">
			<label for="strtdate">Loan Amount:</label>
			<input type="text" class="form-control" ng-model="memberAccounts.loanamount" placeholder="Loan Amount"/>
		</div>
	</div>
	
	<div class="col-md-3 col-xs-12">
		<div class="form-group">
			<label for="strtdate">Tenure:</label>
			<input type="text" class="form-control" ng-model="memberAccounts.tenure" placeholder="Tenure"/>
		</div>
	</div>
	
	<div class="col-md-3 col-xs-12">
		<div class="form-group">
			<label for="strtdate">Tenure Type:</label>
			<select class="form-control" ng-model="memberAccounts.tenuretype" ng-options="obj for obj in ['Days','Months']">
			<option value="" selected disabled>Select Tenure Type</option>
			</select>
		</div>
	</div>
	
	<div class="col-md-3 col-xs-12">
		<div class="form-group">
			<label for="strtdate">Frequency:</label>
			<select class="form-control" ng-model="memberAccounts.frequency" ng-options="obj for obj in ['Daily','Monthly']">
			<option value="" selected disabled>Select Frequency</option>
			</select>
		</div>
	</div>
	
	<div class="col-md-3 col-xs-12" ng-if="accountPlans[0].actypeid.installments === 'No'">
		<div class="form-group">
			<label for="strtdate">Net Amount:</label>
			<input type="text" class="form-control" ng-model="memberAccounts.netamount" placeholder="Net Amount"/>
		</div>
	</div>
	
	<div class="col-md-3 col-xs-12" ng-if="accountPlans[0].actypeid.installments === 'Yes'">
		<div class="form-group">
			<label for="emi">EMI:</label>
			<input type="text" id="emi" class="form-control" ng-model="memberAccounts.emi" placeholder="EMI"/>
		</div>
	</div>
	
	<div class="col-md-3 col-xs-12">
		<div class="form-group">
			<label for="strtdate">Starting Date:</label>
			<input type="date" id="strtdate" class="form-control" ng-model="memberAccounts.startingdate" ng-change="GetExpiryDate()"/>
		</div>
	</div>
	
	<div class="col-md-3 col-xs-12">
		<div class="form-group">
			<label for="exptdate">Expiry Date:</label>
			<input type="date" id="exptdate" class="form-control" ng-model="memberAccounts.expirydate"/>
		</div>
	</div>
	
	<div class="col-md-12 col-xs-12 col-sm-12"  ng-if="accountPlans[0].actypeid.guarantor === 'Yes'">
		<div class="table-responsive">
			<table class="table table-striped" ng-init="ListGuarantors()">
				<thead>
					<th>#</th>
					<th>Member</th>
					<th>Deposited Amount</th>
					<th>Group - Area</th>
					<th>Branch</th>
				</thead>
				<tbody>
					<tr ng-repeat="obj in guaantorsarray">
						<td>{{$index +1}}</td>
						<td><input type="text" class="form-control" placeholder="Search Member" ng-model="obj.gaumembername" typeahead="obj as obj.firstname+' '+obj.midname+' '+obj.lastname for obj in guaMembersList"/></td>
						<td>{{obj.gaumembername}}</td>
						<td>{{obj.gaumembername}} - {{obj.gaumembername}}</td>
						<td>{{obj.gaumembername}}</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
	
	</div>
	
  <div class="col-ms-12 col-xs-12 text-center">
	
	<br>
	<br>
	<button class="btn btn-warning" ng-click="RedirectToForm('/MembersDetails')">Cancel</button>&nbsp;&nbsp;<button id="sbmt" class="btn btn-primary" ng-click="SaveMembersACDetails()">Submit</button>
	<br>
	<br>
	</div>
	
</form>
</div>